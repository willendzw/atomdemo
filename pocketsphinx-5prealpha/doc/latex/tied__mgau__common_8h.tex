\section{src/libpocketsphinx/tied\+\_\+mgau\+\_\+common.h File Reference}
\label{tied__mgau__common_8h}\index{src/libpocketsphinx/tied\+\_\+mgau\+\_\+common.\+h@{src/libpocketsphinx/tied\+\_\+mgau\+\_\+common.\+h}}


Common code shared between SC and P\+TM (tied-\/state) models.  


{\ttfamily \#include $<$sphinxbase/logmath.\+h$>$}\newline
{\ttfamily \#include $<$sphinxbase/fixpoint.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{tied__mgau__common_8h_a6b148848668aa5ddeb21f9e5726f8205}} 
\#define {\bfseries M\+G\+A\+U\+\_\+\+M\+I\+X\+W\+\_\+\+V\+E\+R\+S\+I\+ON}~\char`\"{}1.\+0\char`\"{}   /$\ast$ Sphinx-\/3 file format version for mixw $\ast$/
\item 
\mbox{\label{tied__mgau__common_8h_a14319cfdc013dfddf30896654b6e6500}} 
\#define {\bfseries M\+G\+A\+U\+\_\+\+P\+A\+R\+A\+M\+\_\+\+V\+E\+R\+S\+I\+ON}~\char`\"{}1.\+0\char`\"{}   /$\ast$ Sphinx-\/3 file format version for mean/var $\ast$/
\item 
\mbox{\label{tied__mgau__common_8h_a655c84af1b0034986ff56e12e84f983d}} 
\#define {\bfseries N\+O\+NE}~-\/1
\item 
\mbox{\label{tied__mgau__common_8h_a9512d04e0db6aa7d0c857071935df145}} 
\#define {\bfseries W\+O\+R\+S\+T\+\_\+\+D\+I\+ST}~(int32)(0x80000000)
\item 
\mbox{\label{tied__mgau__common_8h_a740dfe5b30e702ba8b2ec7426bd4d57e}} 
\#define \textbf{ G\+M\+M\+S\+UB}(a,  b)~((a)-\/(b))
\begin{DoxyCompactList}\small\item\em Subtract G\+MM component b (assumed to be positive) and saturate. \end{DoxyCompactList}\item 
\mbox{\label{tied__mgau__common_8h_a1f6b744cf1ced48452fcb90b5b0ccde2}} 
\#define {\bfseries G\+M\+M\+A\+DD}(a,  b)~((a)+(b))
\item 
\mbox{\label{tied__mgau__common_8h_a3acffbd305ee72dcd4593c0d8af64a4f}} 
\#define {\bfseries M\+IN}(a,  b)~((a) $<$ (b) ? (a) \+: (b))
\item 
\mbox{\label{tied__mgau__common_8h_a8be78151b3b0ce922541c2755b14ebf1}} 
\#define {\bfseries L\+O\+G\+M\+A\+T\+H\+\_\+\+I\+N\+L\+I\+NE}~static
\item 
\#define \textbf{ M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+M\+I\+XW}~159
\begin{DoxyCompactList}\small\item\em Maximum negated mixture weight value. \end{DoxyCompactList}\item 
\#define \textbf{ M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+A\+S\+CR}~96
\begin{DoxyCompactList}\small\item\em Maximum negated acoustic score value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
L\+O\+G\+M\+A\+T\+H\+\_\+\+I\+N\+L\+I\+NE int \textbf{ fast\+\_\+logmath\+\_\+add} (logmath\+\_\+t $\ast$lmath, int mlx, int mly)
\begin{DoxyCompactList}\small\item\em Quickly log-\/add two negated log probabilities. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Common code shared between SC and P\+TM (tied-\/state) models. 



\subsection{Macro Definition Documentation}
\mbox{\label{tied__mgau__common_8h_a965d50d73044c3f2dc2589662fd2e89e}} 
\index{tied\+\_\+mgau\+\_\+common.\+h@{tied\+\_\+mgau\+\_\+common.\+h}!M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+A\+S\+CR@{M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+A\+S\+CR}}
\index{M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+A\+S\+CR@{M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+A\+S\+CR}!tied\+\_\+mgau\+\_\+common.\+h@{tied\+\_\+mgau\+\_\+common.\+h}}
\subsubsection{M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+A\+S\+CR}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+A\+S\+CR~96}



Maximum negated acoustic score value. 



Definition at line 83 of file tied\+\_\+mgau\+\_\+common.\+h.

\mbox{\label{tied__mgau__common_8h_ad739d757ed78293c18dc2386fd3b750e}} 
\index{tied\+\_\+mgau\+\_\+common.\+h@{tied\+\_\+mgau\+\_\+common.\+h}!M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+M\+I\+XW@{M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+M\+I\+XW}}
\index{M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+M\+I\+XW@{M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+M\+I\+XW}!tied\+\_\+mgau\+\_\+common.\+h@{tied\+\_\+mgau\+\_\+common.\+h}}
\subsubsection{M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+M\+I\+XW}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+N\+E\+G\+\_\+\+M\+I\+XW~159}



Maximum negated mixture weight value. 



Definition at line 82 of file tied\+\_\+mgau\+\_\+common.\+h.



\subsection{Function Documentation}
\mbox{\label{tied__mgau__common_8h_a947ea19b4351ecbf70330e089994c3a1}} 
\index{tied\+\_\+mgau\+\_\+common.\+h@{tied\+\_\+mgau\+\_\+common.\+h}!fast\+\_\+logmath\+\_\+add@{fast\+\_\+logmath\+\_\+add}}
\index{fast\+\_\+logmath\+\_\+add@{fast\+\_\+logmath\+\_\+add}!tied\+\_\+mgau\+\_\+common.\+h@{tied\+\_\+mgau\+\_\+common.\+h}}
\subsubsection{fast\+\_\+logmath\+\_\+add()}
{\footnotesize\ttfamily L\+O\+G\+M\+A\+T\+H\+\_\+\+I\+N\+L\+I\+NE int fast\+\_\+logmath\+\_\+add (\begin{DoxyParamCaption}\item[{logmath\+\_\+t $\ast$}]{lmath,  }\item[{int}]{mlx,  }\item[{int}]{mly }\end{DoxyParamCaption})}



Quickly log-\/add two negated log probabilities. 


\begin{DoxyParams}{Parameters}
{\em lmath} & The log-\/math object \\
\hline
{\em mlx} & A negative log probability (0 $<$ mlx $<$ 255) \\
\hline
{\em mly} & A negative log probability (0 $<$ mly $<$ 255) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/log(exp(-\/mlx)+exp(-\/mly))
\end{DoxyReturn}
We can do some extra-\/fast log addition since we know that mixw+ascr is always less than 256 and hence x-\/y is also always less than 256. This relies on some cooperation from logmath\+\_\+t which will never produce a logmath table smaller than 256 entries.

Note that the parameters are {\itshape negated} log probabilities (and hence, are positive numbers), as is the return value. This is the key to the \char`\"{}fastness\char`\"{} of this function. 

Definition at line 103 of file tied\+\_\+mgau\+\_\+common.\+h.

